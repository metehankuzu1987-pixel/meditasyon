<!doctype html>
<html lang="tr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Meditasyon Türleri Rehberi | Pozisyon & Amaçlara Göre Filtrelenebilir Tablo</title>
  <meta name="description" content="Meditasyon nasıl yapılır? Oturarak, yürüyerek, yatarak… 20+ meditasyon türü ve amaçlara göre en iyi seçim. Filtrelenebilir tablolar, süre, zorluk ve etki detayları." />
  <meta name="theme-color" content="#b388ff" />

  <!-- Open Graph / Twitter -->
  <meta property="og:type" content="website" />
  <meta property="og:title" content="Meditasyon Türleri Rehberi — Filtrelenebilir Tablolar" />
  <meta property="og:description" content="20+ meditasyon türü; süre, ortam, etki ve zorlukla filtrele. Amaçlara göre doğru tekniği seç." />
  <meta property="og:image" content="https://raw.githubusercontent.com/USER/REPO/main/og-cover.jpg" />
  <meta property="twitter:card" content="summary_large_image" />

  <!-- JSON-LD Schema -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebPage",
    "name": "Meditasyon Türleri Rehberi",
    "description": "Meditasyon türleri ve amaçlara göre seçim — filtrelenebilir tablolar.",
    "inLanguage": "tr-TR",
    "about": ["meditasyon", "mindfulness", "yoga nidra", "vipassana", "zazen", "kundalini"],
    "keywords": ["meditasyon türleri","mindfulness","yoga nidra","zazen","vipassana","kundalini","nefes","rehber"]
  }
  </script>

  <style>
    :root{
      --bg:#0d0b14; --ink:#f7f3ff; --text:#cbbfe9; --muted:#a99bcc; --line:#3a3358;
      --g1:#211a36; --g2:#18122c; --acc:#b388ff; --acc2:#7bd0f5; --acc3:#f7b3d0;
      --chip:#201a34; --shadow:0 14px 36px rgba(0,0,0,.4);
    }
    html,body{height:100%; margin:0}
    body{
      font: 15px/1.7 Inter, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
      color-scheme: dark; color:var(--text);
      background:
        radial-gradient(1200px 800px at 12% -10%, rgba(247,179,208,.14) 0%, rgba(247,179,208,0) 55%),
        radial-gradient(1000px 700px at 102% 5%, rgba(123,208,245,.14) 0%, rgba(123,208,245,0) 45%),
        linear-gradient(180deg, #0e0b16 0%, #120f1e 100%);
      overflow:auto; -webkit-overflow-scrolling:touch;
    }

    .app{min-height:100%; display:flex;}
    .inner{max-width:1100px; margin:0 auto; padding: 28px 16px 80px; width:100%}
    h1,h2,h3,h4{color:var(--ink); margin:.35em 0 .25em}
    h1{font-size: clamp(26px,3.5vw,40px)}
    h2{font-size: clamp(22px,2.4vw,28px)}
    h3{font-size: clamp(18px,1.8vw,22px)}
    p{margin:.25rem 0 .9rem}
    .meta{display:flex;gap:8px;flex-wrap:wrap}
    .chip{display:inline-flex;align-items:center;gap:.5ch;background:linear-gradient(90deg, rgba(179,136,255,.18), rgba(123,208,245,.18)); padding:.38rem .7rem; border-radius:999px; border:1px solid var(--line); color:#e8e2ff; font-weight:600; font-size:.85rem}

    .card{background:linear-gradient(180deg,var(--g1),var(--g2)); border:1px solid var(--line); border-radius:18px; box-shadow:var(--shadow); margin-top:16px}
    .hd{display:flex; align-items:center; justify-content:space-between; padding:16px 16px 8px}
    .bd{padding:10px 12px 16px}

    .filters{display:flex; flex-wrap:wrap; gap:10px; padding:12px; background:rgba(255,255,255,.05); border-radius:14px; border:1px solid var(--line)}
    .filters label{font-size:.85rem; opacity:.8; margin-right:.4rem}
    .filters input,.filters select{appearance:none; background:#140f22; color:var(--ink); border:1px solid var(--line); border-radius:12px; padding:.7rem .9rem; min-width:200px}
    .filters input:focus,.filters select:focus{outline:2px solid var(--acc); outline-offset:2px}

    .table-wrap{overflow:auto; border-top:1px solid var(--line)}
    table{width:100%; border-collapse:separate; border-spacing:0; min-width:720px}
    thead th{position:sticky; top:0; background:linear-gradient(90deg, #c9b7ff33, #ffb8d933, #bfffc933); color:var(--ink); text-align:left; padding:.9rem; border-bottom:1px solid var(--line)}
    tbody td{padding:.8rem .9rem; color:var(--text); border-bottom:1px dashed #332b50}
    tbody tr:hover{background:rgba(179,136,255,.08)}
    td:first-child{color:var(--ink)}

    @media (max-width: 719px){
      table{display:none}
      .cards{display:grid;gap:12px;padding:12px}
      .row{border:1px solid var(--line); border-radius:14px; background:linear-gradient(180deg,#1b1434,#17112d); padding:12px}
      .row h4{margin:0 0 6px; font-size:1.05rem; color:var(--ink)}
      .row .kvs{display:grid; grid-template-columns:1fr 1fr; gap:8px}
      .kv{font-size:.92rem; color:#c0b5e5}
      .kv b{color:#fff}
    }

    .theme-toggle{margin-left:auto}
    .btn{background:#140f22; color:var(--ink); border:1px solid var(--line); border-radius:10px; padding:.55rem .8rem; cursor:pointer}
    body.light{color-scheme: light; background:linear-gradient(180deg,#faf7ff 0%, #f3f6ff 100%)}
    body.light .card{background:#ffffffcc; border-color:#e8e0ff}
    body.light .filters{background:#ffffffd9; border-color:#e8e0ff}
    body.light thead th{background:linear-gradient(90deg, #e6ddff, #ffd6eb, #dfffe6); color:#2c1a45}
    body.light td:first-child, body.light h1, body.light h2, body.light h3, body.light h4{color:#2c1a45}
    body.light .row{background:#fff}

    /* Posts grid */
    .posts-grid { display:grid; gap:16px; margin-top:1rem; grid-template-columns: repeat(auto-fill, minmax(260px, 1fr)); }
    .post-card { display:block; text-decoration:none; color:var(--ink); background:linear-gradient(180deg,var(--g1),var(--g2)); border:1px solid var(--line); border-radius:16px; padding:14px; transition:transform .2s ease, background .2s ease; }
    .post-card:hover { transform: translateY(-3px); background:linear-gradient(180deg,#2a2044,#1d1730); }
    .post-card h4 { margin:.2rem 0 .4rem; font-size:1.05rem; color:var(--ink) }
    .post-card p { margin:0; color:var(--text) }
    .post-meta { font-size:.8rem; color:var(--muted) }
    .loader { text-align:center; margin:1.3rem 0; color:var(--muted) }
  </style>
</head>
<body>
  <div class="app">
    <div class="inner">
      <header>
        <h1>Meditasyon Türleri Rehberi</h1>
        <h2>Pozisyonlara ve Amaçlara Göre Filtrelenebilir Tablo</h2>
        <p><span class="chip">zorluk</span> · <span class="chip">süre</span> · <span class="chip">niyet</span></p>
        <div class="meta">
        
        </div>
      </header>

      <!-- SECTION A: Türler -->
      <section class="card" id="types">
        <div class="hd">
          <h2>Meditasyon Türleri (Pozisyon / Teknik)</h2>
        </div>
        <div class="bd">
          <h3>Filtreler</h3>
          <div class="filters" role="region" aria-label="Meditasyon Türleri Filtreleri">
            <label for="typeSearch">Arama</label>
            <input type="search" id="typeSearch" placeholder="Ara: zazen, nefes, orman…" aria-label="Metin arama">
            <label for="typeDifficulty">Zorluk</label>
            <select id="typeDifficulty" aria-label="Zorluk seç">
              <option value="">Zorluk: Hepsi</option>
              <option value="kolay">Kolay</option>
              <option value="orta">Orta</option>
              <option value="zor">Zor</option>
            </select>
            <label for="typeDuration">Süre</label>
            <select id="typeDuration" aria-label="Süre aralığı seç">
              <option value="">Süre: Hepsi</option>
              <option value="0-10">≤10 dk</option>
              <option value="10-20">10–20 dk</option>
              <option value="20-40">20–40 dk</option>
              <option value="40-999">40 dk+</option>
            </select>
          </div>

          <div class="table-wrap">
            <table id="typesTable">
              <thead>
                <tr><th>🧘 Tür Adı</th><th>⏱️ Süre</th><th>🌿 Ortam</th><th>💫 Ana Etki</th><th>🔥 Zorluk</th></tr>
              </thead>
              <tbody>
                <tr data-dmin="20" data-dmax="40" data-diff="orta"><td><strong>Zazen (Zen)</strong></td><td>20–40 dk</td><td>Sessiz oda, minimal alan</td><td>Zihin duruluğu, farkındalık</td><td>Orta</td></tr>
                <tr data-dmin="45" data-dmax="180" data-diff="zor"><td><strong>Vipassana</strong></td><td>45 dk+</td><td>Sessizlik, doğal alan</td><td>Duygu ve düşünce gözlemi</td><td>Zor</td></tr>
                <tr data-dmin="5" data-dmax="30" data-diff="kolay"><td><strong>Mindfulness</strong></td><td>5–30 dk</td><td>Her yer (ofis, ev, yürüyüş)</td><td>Şu ana odaklanma, stres düşürme</td><td>Kolay</td></tr>
                <tr data-dmin="10" data-dmax="20" data-diff="orta"><td><strong>Metta (Sevgi Nezaketi)</strong></td><td>10–20 dk</td><td>Rahat oturuş, kalp hizası</td><td>Şefkat, affetme</td><td>Orta</td></tr>
                <tr data-dmin="20" data-dmax="20" data-diff="orta"><td><strong>Transandantal Meditasyon (TM)</strong></td><td>20 dk</td><td>Sessiz, dikkat dağıtıcı yok</td><td>Derin gevşeme, içsel huzur</td><td>Orta</td></tr>
                <tr data-dmin="20" data-dmax="40" data-diff="kolay"><td><strong>Yoga Nidra</strong></td><td>20–40 dk</td><td>Yatarak, loş ortam</td><td>Uyku öncesi gevşeme, bilinçaltı temizliği</td><td>Kolay</td></tr>
                <tr data-dmin="5" data-dmax="15" data-diff="orta"><td><strong>Trataka (Mum Odaklı)</strong></td><td>5–15 dk</td><td>Karanlık oda, mum alevi</td><td>Konsantrasyon, göz odak gücü</td><td>Orta</td></tr>
                <tr data-dmin="30" data-dmax="60" data-diff="zor"><td><strong>Kundalini Meditasyonu</strong></td><td>30–60 dk</td><td>Oturarak, rahat kıyafet</td><td>Enerji yükselmesi, farkındalık patlaması</td><td>Zor</td></tr>
                <tr data-dmin="15" data-dmax="40" data-diff="orta"><td><strong>Chakra Meditasyonu</strong></td><td>15–40 dk</td><td>Renk/ışık destekli sessiz alan</td><td>Enerji merkezlerini dengeleme</td><td>Orta</td></tr>
                <tr data-dmin="10" data-dmax="30" data-diff="kolay"><td><strong>Yürüyüş Meditasyonu (Kinhin)</strong></td><td>10–30 dk</td><td>Doğa veya uzun koridor</td><td>Beden farkındalığı</td><td>Kolay</td></tr>
                <tr data-dmin="20" data-dmax="45" data-diff="orta"><td><strong>Qi Gong / Tai Chi</strong></td><td>20–45 dk</td><td>Açık hava</td><td>Yaşam enerjisi (Chi) dolaşımı</td><td>Orta</td></tr>
                <tr data-dmin="15" data-dmax="60" data-diff="zor"><td><strong>Sufi Zikir / Semâ</strong></td><td>15–60 dk</td><td>Manevi atmosfer, topluluk</td><td>Ruhsal arınma, aşk bilinci</td><td>Zor</td></tr>
                <tr data-dmin="5" data-dmax="10" data-diff="kolay"><td><strong>Kalp Koherans</strong></td><td>5–10 dk</td><td>Sessiz, rahat koltuk</td><td>Kalp-beyin senkronizasyonu</td><td>Kolay</td></tr>
                <tr data-dmin="30" data-dmax="60" data-diff="orta"><td><strong>Ses Banyosu</strong></td><td>30–60 dk</td><td>Grup, gongs/kaseler</td><td>Frekansla enerji temizliği</td><td>Orta</td></tr>
                <tr data-dmin="10" data-dmax="30" data-diff="kolay"><td><strong>Doğa Meditasyonu</strong></td><td>10–30 dk</td><td>Orman, deniz kenarı, park</td><td>Topraklanma, dinginlik</td><td>Kolay</td></tr>
                <tr data-dmin="10" data-dmax="20" data-diff="kolay"><td><strong>Renk Meditasyonu</strong></td><td>10–20 dk</td><td>Loş ışık, renk filtreleri</td><td>Duygusal denge, aura temizliği</td><td>Kolay</td></tr>
                <tr data-dmin="15" data-dmax="20" data-diff="kolay"><td><strong>Mala Meditasyonu (108)</strong></td><td>~15 dk</td><td>Sessiz, mala boncuk</td><td>Odak, tekrar yoluyla sakinlik</td><td>Kolay</td></tr>
                <tr data-dmin="15" data-dmax="60" data-diff="kolay"><td><strong>Yaratıcı Akış (Mandala/Boyama)</strong></td><td>15–60 dk</td><td>Sessiz yaratım alanı</td><td>Akış (flow), içsel ifade</td><td>Kolay</td></tr>
                <tr data-dmin="10" data-dmax="30" data-diff="kolay"><td><strong>Rehberli Görselleştirme</strong></td><td>10–30 dk</td><td>Kulaklık, rahat ortam</td><td>Niyet, motivasyon, vizyon</td><td>Kolay</td></tr>
                <tr data-dmin="1440" data-dmax="14400" data-diff="zor"><td><strong>Sessizlik İnzivası (Retreat)</strong></td><td>1–10 gün</td><td>İnziva alanı</td><td>Derin farkındalık, ego çözülmesi</td><td>Zor</td></tr>
              </tbody>
            </table>
            <div class="cards" id="typesCards" aria-hidden="true"></div>
          </div>
        </div>
      </section>

      <!-- SECTION B: Amaçlar -->
      <section class="card" id="goals">
        <div class="hd"><h2>Amaçlara Göre Meditasyon</h2></div>
        <div class="bd">
          <h3>Filtreler</h3>
          <div class="filters" role="region" aria-label="Amaçlara Göre Filtreler">
            <label for="goalSearch">Arama</label>
            <input type="search" id="goalSearch" placeholder="Ara: stres, uyku, şifa…" aria-label="Amaç arama">
            <label for="goalDifficulty">Zorluk</label>
            <select id="goalDifficulty" aria-label="Zorluk seç (amaç)">
              <option value="">Zorluk: Hepsi</option>
              <option value="kolay">Kolay</option>
              <option value="orta">Orta</option>
              <option value="zor">Zor</option>
            </select>
            <label for="goalTag">Etiket</label>
            <select id="goalTag" aria-label="Etiket seç">
              <option value="">Etiket: Hepsi</option>
              <option>stres</option><option>uyku</option><option>öz-sevgi</option>
              <option>enerji</option><option>temizlik</option><option>konsantrasyon</option>
              <option>kaygı</option><option>sezgi</option><option>bolluk</option>
              <option>ego</option><option>yaratıcılık</option><option>aşk</option>
              <option>motivasyon</option><option>spiritüel</option><option>travma</option>
              <option>denge</option><option>sabır</option><option>doğa</option><option>bilinçaltı</option>
            </select>
          </div>

          <div class="table-wrap">
            <table id="goalsTable">
              <thead><tr><th>🎯 Amaç</th><th>🧘 Türler</th><th>💫 Etki</th><th>🔥 Zorluk</th></tr></thead>
              <tbody>
                <tr data-tags="stres denge" data-diff="kolay"><td>Stres Azaltmak</td><td>Mindfulness, Nefes, Yoga Nidra</td><td>Parasempatik sistem aktivasyonu</td><td>Kolay</td></tr>
                <tr data-tags="uyku bilinçaltı" data-diff="kolay"><td>Uykuya Geçiş</td><td>Yoga Nidra, Rehberli Görselleştirme</td><td>Alfa–teta dalgaları</td><td>Kolay</td></tr>
                <tr data-tags="öz-sevgi aşk" data-diff="kolay"><td>Öz Şefkat</td><td>Metta, Kalp Koherans</td><td>Duygusal yumuşama, kabul</td><td>Kolay</td></tr>
                <tr data-tags="enerji motivasyon" data-diff="orta"><td>Enerji Artırmak</td><td>Kundalini, Pranayama, Qi Gong</td><td>Prana/Chi akışını hızlandırır</td><td>Orta</td></tr>
                <tr data-tags="temizlik aura" data-diff="orta"><td>Negatif Enerjiyi Temizlemek</td><td>Ses Banyosu, Chakra</td><td>Frekanssal arınma, dengeleme</td><td>Orta</td></tr>
                <tr data-tags="konsantrasyon zihin" data-diff="zor"><td>Düşünce Kontrolü</td><td>Zazen, Trataka</td><td>Gürültüyü azaltır, odak keskinleşir</td><td>Zor</td></tr>
                <tr data-tags="kaygı denge" data-diff="kolay"><td>Kaygı/Panik</td><td>Box Breathing, Mindfulness</td><td>Kalp atışı ve nefes regülasyonu</td><td>Kolay</td></tr>
                <tr data-tags="sezgi spiritüel" data-diff="orta"><td>Sezgi</td><td>Görselleştirme, Üçüncü Göz</td><td>İçsel rehberlik</td><td>Orta</td></tr>
                <tr data-tags="bolluk niyet" data-diff="kolay"><td>Bolluk/Manifestasyon</td><td>Niyet, Görselleştirme, Kalp Odaklı</td><td>Duygu–imge–niyet uyumu</td><td>Kolay</td></tr>
                <tr data-tags="ego spiritüel" data-diff="zor"><td>Kendini Tanıma/Ego</td><td>Vipassana, Sessizlik İnzivası</td><td>Benlik gözlemi, çözülme</td><td>Zor</td></tr>
                <tr data-tags="yaratıcılık akış" data-diff="kolay"><td>Yaratıcılık</td><td>Flow, Mandala/Renk</td><td>Sağ yarımküre aktivasyonu</td><td>Kolay</td></tr>
                <tr data-tags="aşk öz-sevgi" data-diff="orta"><td>Aşk Enerjisi</td><td>Kalp Koherans, Metta, Tantra</td><td>Empati ve rezonans</td><td>Orta</td></tr>
                <tr data-tags="motivasyon enerji" data-diff="orta"><td>Motivasyon</td><td>Mantra, Kundalini, Güçlü Nefes</td><td>Merkez aktivasyonu</td><td>Orta</td></tr>
                <tr data-tags="konsantrasyon çalışma" data-diff="orta"><td>Konsantrasyon</td><td>Trataka, Mantra, Nefes Sayma</td><td>Tek nokta odak</td><td>Orta</td></tr>
                <tr data-tags="spiritüel uyanış" data-diff="zor"><td>Spiritüel Uyanış</td><td>Kabbalistik, Hermetik, Kundalini, Zikir</td><td>Farkındalık sıçraması</td><td>Zor</td></tr>
                <tr data-tags="travma güven" data-diff="kolay"><td>Travma Sonrası Şifa</td><td>Görselleştirme, Kalp Odaklı, Yoga Nidra</td><td>Güvenli alan, regülasyon</td><td>Kolay</td></tr>
                <tr data-tags="denge günlük" data-diff="kolay"><td>Günlük Denge</td><td>Mindfulness, Yürüyüş, Günlük Aktivite</td><td>Yaşama entegrasyon</td><td>Kolay</td></tr>
                <tr data-tags="sabır disiplin" data-diff="orta"><td>Sabır/Direnç</td><td>Vipassana, Metta, Mantra</td><td>Zihin dayanıklılığı</td><td>Orta</td></tr>
                <tr data-tags="doğa topraklanma" data-diff="kolay"><td>Doğa ile Birleşmek</td><td>Doğa, Yürüyüş, Ağaç Odaklı</td><td>Topraklanma, huzur</td><td>Kolay</td></tr>
                <tr data-tags="bilinçaltı temizlik" data-diff="orta"><td>Bilinçaltı Temizliği</td><td>Yoga Nidra, Görselleştirme, Renk</td><td>Duygusal dönüşüm</td><td>Orta</td></tr>
              </tbody>
            </table>
            <div class="cards" id="goalsCards" aria-hidden="true"></div>
          </div>
        </div>
      </section>

      <!-- SECTION C: Meditasyon Etiketli Yazılar (Infinite Scroll) -->
      <section class="card" id="related-posts">
        <div class="hd"><h2>H2 • 🪶 Meditasyon ile ilgili Yayınlarımız</h2></div>
        <div class="bd">
          <div id="postsList" class="posts-grid" aria-live="polite"></div>
          <div id="loader" class="loader" role="status">Yükleniyor…</div>
        </div>
      </section>

      <footer style="margin-top:22px">
        <h3>HSSS</h3>
        <h4>Günde kaç dakika?</h4>
        <p>5–10 dk ile başla; her hafta +5 dk.</p>
        <h4>Hangi pozisyon en iyi?</h4>
        <p>Rahat ve sürdürülebilir olan.</p>
      </footer>
    </div>
  </div>

  <script>
    // Tema
    const themeBtn = document.getElementById('themeBtn');
    if(themeBtn){ themeBtn.addEventListener('click', ()=>{ const light = document.body.classList.toggle('light'); themeBtn.setAttribute('aria-pressed', light ? 'true' : 'false'); }); }

    // Yardımcılar
    function inRange(min, max, range){ if(!range) return true; const parts = range.split('-'); const rmin = parseInt(parts[0],10); const rmax = parseInt(parts[1],10); return (min <= rmax && max >= rmin); }
    function includesAll(hay, needles){ return needles.every(n=> hay.indexOf(n) !== -1); }
    function txt(n){ return (n.textContent||'').toLowerCase(); }

    // Mobile kartlar
    function buildCards(tableId, cardsId, mapFn){
      const tbody=document.querySelector('#'+tableId+' tbody');
      const cards=document.getElementById(cardsId);
      if(!tbody||!cards) return; cards.innerHTML='';
      Array.from(tbody.rows).forEach((tr)=>{ cards.appendChild(mapFn(tr)); });
    }
    function syncCards(tableId,cardsId,mapFn){
      const tbody=document.querySelector('#'+tableId+' tbody');
      const cards=document.getElementById(cardsId);
      if(!tbody||!cards) return; cards.innerHTML='';
      Array.from(tbody.rows).forEach(tr=>{ if(tr.style.display !== 'none') cards.appendChild(mapFn(tr)); });
    }
    function typesRowToCard(tr){
      const el=document.createElement('div'); el.className='row'; const c=tr.children;
      el.innerHTML='<h4>'+c[0].innerText+'</h4>\n        <div class="kvs">\n          <div class="kv"><b>Süre:</b> '+c[1].innerText+'</div>\n          <div class="kv"><b>Ortam:</b> '+c[2].innerText+'</div>\n          <div class="kv"><b>Etki:</b> '+c[3].innerText+'</div>\n          <div class="kv"><b>Zorluk:</b> '+c[4].innerText+'</div>\n        </div>'; return el;
    }
    function goalsRowToCard(tr){
      const el=document.createElement('div'); el.className='row'; const c=tr.children;
      el.innerHTML='<h4>'+c[0].innerText+'</h4>\n        <div class="kvs">\n          <div class="kv"><b>Türler:</b> '+c[1].innerText+'</div>\n          <div class="kv"><b>Etki:</b> '+c[2].innerText+'</div>\n          <div class="kv"><b>Zorluk:</b> '+c[3].innerText+'</div>\n        </div>'; return el;
    }

    // Filtreler
    const typeSearch=document.getElementById('typeSearch');
    const typeDifficulty=document.getElementById('typeDifficulty');
    const typeDuration=document.getElementById('typeDuration');
    const typesRows=Array.from(document.querySelectorAll('#typesTable tbody tr'));
    function filterTypes(){
      const q=(typeSearch.value||'').toLowerCase().trim();
      const diff=(typeDifficulty.value||'').toLowerCase();
      const dur=typeDuration.value;
      typesRows.forEach(row=>{
        const text=txt(row), rdiff=row.dataset.diff, dmin=parseInt(row.dataset.dmin,10), dmax=parseInt(row.dataset.dmax,10);
        const matchText=!q || includesAll(text, q.split(/\s+/));
        const matchDiff=!diff || rdiff===diff;
        const matchDur=!dur || inRange(dmin,dmax,dur);
        row.style.display=(matchText && matchDiff && matchDur)?'':'none';
      });
      syncCards('typesTable','typesCards', typesRowToCard);
    }

    const goalSearch=document.getElementById('goalSearch');
    const goalDifficulty=document.getElementById('goalDifficulty');
    const goalTag=document.getElementById('goalTag');
    const goalRows=Array.from(document.querySelectorAll('#goalsTable tbody tr'));
    function filterGoals(){
      const q=(goalSearch.value||'').toLowerCase().trim();
      const diff=(goalDifficulty.value||'').toLowerCase();
      const tag=(goalTag.value||'').toLowerCase();
      goalRows.forEach(row=>{
        const text=txt(row), rdiff=row.dataset.diff, tags=(row.dataset.tags||'').toLowerCase();
        const matchText=!q || includesAll(text, q.split(/\s+/));
        const matchDiff=!diff || rdiff===diff;
        const matchTag=!tag || tags.split(/\s+/).includes(tag);
        row.style.display=(matchText && matchDiff && matchTag)?'':'none';
      });
      syncCards('goalsTable','goalsCards', goalsRowToCard);
    }

    buildCards('typesTable','typesCards', typesRowToCard);
    buildCards('goalsTable','goalsCards', goalsRowToCard);
    [typeSearch,typeDifficulty,typeDuration].forEach(el=> el.addEventListener('input', filterTypes));
    [goalSearch,goalDifficulty,goalTag].forEach(el=> el.addEventListener('input', filterGoals));
    filterTypes(); filterGoals();

    // === Infinite Scroll Blogger Feed ===
    const BLOG_URL = 'https://BLOG_ADINIZ.blogspot.com'; // <- değiştir
    const TAG = 'Meditasyon';
    let startIndex = 1; let endReached = false; let loading = false;

    async function loadPosts() {
      if (loading || endReached) return; loading = true;
      const loader = document.getElementById('loader');
      loader.style.display = 'block';
      const url = BLOG_URL + '/feeds/posts/default/-/' + encodeURIComponent(TAG) + '?alt=json&max-results=6&start-index=' + startIndex;
      try {
        const res = await fetch(url);
        if (!res.ok) throw new Error('HTTP ' + res.status);
        const data = await res.json();
        const entries = (data.feed && data.feed.entry) ? data.feed.entry : [];
        const container = document.getElementById('postsList');
        entries.forEach(function(entry){
          const title = (entry.title && entry.title.$t) ? entry.title.$t : 'Başlık';
          const linkObj = (entry.link||[]).find(function(l){return l.rel === 'alternate'});
          const link = linkObj ? linkObj.href : '#';
          const raw = ((entry.content && entry.content.$t) || (entry.summary && entry.summary.$t) || '').replace(/<[^>]+>/g,'');
          const snippet = raw.length > 140 ? raw.slice(0,140) + '…' : raw;
          const published = (entry.published && entry.published.$t) ? new Date(entry.published.$t) : null;
          const card = document.createElement('a');
          card.href = link; card.className = 'post-card'; card.target = '_blank'; card.rel = 'noopener noreferrer';
          card.innerHTML = '<div class="post-meta">'+ (published ? published.toLocaleDateString('tr-TR') : '') +'</div>'+'<h4>'+ title +'</h4>'+'<p>'+ snippet +'</p>';
          container.appendChild(card);
        });
        if (entries.length >= 6) { startIndex += 6; loader.textContent = 'Daha fazla yükleniyor…'; }
        else { endReached = true; loader.textContent = 'Tüm yazılar yüklendi.'; }
      } catch (err) {
        document.getElementById('loader').textContent = 'Yazılar yüklenemedi 😞';
        console.error(err);
      } finally { loading = false; }
    }

    const io = new IntersectionObserver(function(entries){
      entries.forEach(function(e){ if(e.isIntersecting) loadPosts(); });
    }, {root:null, rootMargin:'1200px', threshold:0});
    io.observe(document.getElementById('loader'));
    loadPosts();
  </script>
</body>
</html>
